<h4 class="metrics-header">Connections</h4>
<table class="table table-compact narrow metric-table" id="table"></table>
<script src="/static/js/api.js"></script>
<script src="/static/js/admin.js"></script>
<script>
async function refresh() {
  const rows = await api('/admin/api/connections');
  const t = document.getElementById("table");
  t.innerHTML = `<tr><th>Peer</th><th>Uptime</th><th>Subs</th><th>Auth</th></tr>` +
    rows.map(r=>`<tr>
      <td>${r.peer}</td>
      <td>${fmtUptime(r.uptime)}</td>
      <td>${r.subs}</td>
      <td>${r.authenticated}</td>
    </tr>`).join('');
}
setInterval(refresh, 2000);
refresh();
</script>
